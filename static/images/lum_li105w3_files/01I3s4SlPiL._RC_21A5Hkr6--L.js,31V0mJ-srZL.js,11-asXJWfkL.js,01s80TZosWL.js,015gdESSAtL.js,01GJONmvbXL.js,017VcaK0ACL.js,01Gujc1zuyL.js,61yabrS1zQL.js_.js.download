(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("DetailPageLayoutAssets",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","ready").execute(function(a){var b,d=a.$;a.on("a:expander:zones_progressive_disclosure_expander:toggle:collapse",function(a){(a=d("#dp-pr-top"))&&a.length||c.scrollTo({top:b})});a.on("a:expander:zones_progressive_disclosure_expander:toggle:expand",function(a){b=d(c).scrollTop()})})});
/* ******** */
(function(l){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,c=n?n("DetailPageMobileIconFarmAssets@common","DetailPageMobileIconFarm"):m;c.guardFatal?c.guardFatal(l)(c,window):c.execute(function(){l(c,window)})})(function(l,m,n){l.when("A","ready").register("get-icon-farm-page-state",function(c){return{parseJSON:function(e,b){b="iconfarm-state-"+b;var d='script[data-a-state\x3d"{"key":"'+b+'"}"]',a;try{a=c.$("#"+e).find(d).html()}catch(g){console.log(g.message)}a?e=c.$.parseJSON(a):
(c.state.parse(),e=c.state(b));return e}}});l.declare("icon-farm-mod-constants",{selector:{BUYBOX_ACCORDION:"#buybox .a-accordion",BUYBOX_ACCORDION_ACTIVE:"#buybox .a-accordion-active",iconfarm:"#iconfarmv2_feature_div .offersConsistencyEnabled"}});l.declare("iconfarm-metrics-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",METRIC_TYPE:{GLANCE_VIEW:"GLANCE_VIEW",ICON_CLICK:"ICON_CLICK",SECONDARY_PAGE_OPEN:"SECONDARY_PAGE_OPEN",SECONDARY_PAGE_CLOSE:"SECONDARY_PAGE_CLOSE",
FULL_RETURN_POLICY:"FULL_RETURN_POLICY",PAGE_DATA_MISSING:"PAGE_DATA_MISSING",ABSENT:"ABSENT"},REF_MARKER_PREFIX:{ICON_FARM_WIDGET:"iconfarm_wid",AMAZON_DELIVERED:"iconfarm_ad",RETURNS_POLICY:"iconfarm_rp",PAY_ON_DELIVERY:"iconfarm_pod",WARRANTY:"iconfarm_wr",EASY_CARE:"iconfarm_ec",AMAZON_PROTECT:"iconfarm_ap",NO_CONTACT_DELIVERY:"iconfarm_ncd",GENERIC_RETURN_POLICY:"iconfarm_grp",MULTIPLE_SPECIFIC_RETURN_POLICY:"iconfarm_msrp",SINGLE_SPECIFIC_RETURN_POLICY:"iconfarm_ssrp",PAYMENTS_AND_SECURITY:"iconfarm_ps",
PAY_ON_DELIVERY_ACTIVE:"iconfarm_pod_active",PAY_ON_DELIVERY_INACTIVE:"iconfarm_pod_inactive",WARRANTY_EU:"iconfarm_wr_eu",AMAZON_MANAGED_DELIVERY:"iconfarm_amd",AMAZON_DELIVERED_MENA:"iconfarm_ad_mena",SAFE_PAYMENTS:"iconfarm_sp",STATIC_RETURNS_POLICY:"iconfarm_srp",GENERIC_RETURNS_POLICY:"iconfarm_grp",SUPPORT_POLICY:"iconfarm_supp",WARRANTY360:"iconfarm_wr360",WORRY_FREE_GUARANTEE_JP:"iconfarm_wfg_jp",WARRANTY_JP:"iconfarm_wr_jp",DELIVERY_JP:"iconfarm_dl_jp",RETURN_POLICY_JP:"iconfarm_rp_jp",SMALL_BUSINESS_JP:"iconfarm_sb_jp",
DELIVERY_HIT:"iconfarm_dh",WARRANTY_HIT:"iconfarm_wh",RETURN_POLICY_HIT:"iconfarm_rph",CUSTOMER_SUPPORT:"iconfarm_cs",SERVICE:"iconfarm_serv",FREE_DELIVERY:"iconfarm_fd",TOP_BRAND:"iconfarm_tb"},REF_MARKER_SUFFIX:{GLANCE_VIEW:"_gv",ICON_CLICK:"_clk",SECONDARY_PAGE_OPEN:"_sp_op",SECONDARY_PAGE_CLOSE:"_sp_cl",FULL_RETURN_POLICY:"_frp",ABSENT:"_noavail"},NEXUS_CONFIG:{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3"},LOGGER_CONFIG:{NEXUS_LOGGER:"nexus"}});l.when("A","iconfarm-return-policy-metric-logger",
"iconfarm-pay-on-delivery-metric-logger","iconfarm-default-metric-logger").register("iconfarm-icon-metric-factory",function(c,e,b,d){return{getIconMetric:function(a){switch(a){case "RETURNS_POLICY":return e;case "PAY_ON_DELIVERY":return b;default:return d}}}});l.when("A","iconfarm-metrics-constants","get-icon-farm-page-state","iconfarm-icon-metric-factory","ready").register("iconfarm-metricLogger",function(c,e,b,d){return{log:function(a,g,h,f){if(a&&g&&null!==h&&e.REF_MARKER_PREFIX[a]&&e.REF_MARKER_SUFFIX[g]){var k=
b.parseJSON(e.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+h,h);k?d.getIconMetric(a).log(a,g,h,c.$.extend(!0,{asin:k.asin,merchantId:k.merchantId,remoteAddress:k.remoteAddress,isInternal:k.isInternal,isRobot:k.isRobot,numOfShownIcons:k.numOfShownIcons,buyingOptionIndex:h},f)):console.warn("iconfarm state may not be available")}}}});l.when("A","ready").register("iconfarm-postmetric",function(){return{postCountMetric:function(c){if("undefined"!==typeof c){var e=m.ue;if(e){var b=e.count(c)||0;e.count(c,b+1)}}},
postTimeMetric:function(c,e){if("undefined"!==typeof c&&"undefined"!==typeof e){var b=m.ue;b&&b.count(c,e)}}}});l.when("A","ready").register("iconfarm-metric-cache",function(c){var e=[],b=function(a){if(!d(a))return!1;var b=!1;c.each(e,function(c,d){c.asin===a.asin&&c.merchantId===a.merchantId&&c.ref===a.ref&&c.loggerType===a.loggerType&&c.buyingOptionIndex===a.buyingOptionIndex&&(b=!0)});return b},d=function(a){return a&&a.asin&&a.merchantId&&a.ref&&a.loggerType&&null!==a.buyingOptionIndex};return{isPresent:b,
add:function(a){return d(a)?b(a)?!1:(e.push(a),!0):!1},reset:function(){e=[]}}});"use strict";l.when("A","iconfarm-metric-cache","iconfarm-metrics-constants","ready").register("iconfarm-Nexus-Service",function(c,e,b){return{log:function(d){if(e.add(d)){var a={};a.producerId=b.NEXUS_CONFIG.NEXUS_PRODUCER_ID;a.schemaId=b.NEXUS_CONFIG.NEXUS_SCHEMA_ID;a.refMarker=d.ref;a.pageAsin=d.asin;a.pageType=c.capabilities?c.capabilities.mobile?c.capabilities.isAmazonApp?"DetailWebView":"DetailAW":"Detail":"";a.subPageType=
"IconFarm";a.server=m?m.ue_sn:"";a.merchantId=d.merchantId;a.remoteAddress=d.remoteAddress;a.isInternal=d.isInternal?1:0;a.isRobot=d.isRobot?1:0;var g={};g.numOfShownIcons=d.numOfShownIcons;g.buyingOptionIndex=d.buyingOptionIndex;d=JSON.stringify(g);a.additionalRequestData=d;if(d=m.ue)try{d.event&&d.event(a,b.NEXUS_CONFIG.NEXUS_PRODUCER_ID,b.NEXUS_CONFIG.NEXUS_SCHEMA_ID)}catch(h){d.count("NexusLoggerFailure",1)}}}}});l.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric",
"ready").register("iconfarm-default-metric-logger",function(c,e,b,d){return{log:function(a,g,h,f){h=JSON.parse(JSON.stringify(f));e.log(c.$.extend(!0,h,{ref:b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[g],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[g])}}});l.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-return-policy-metric-logger",function(c,e,b,
d,a){return{log:function(g,h,f,k){a:{if((f=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+f,f))&&f.RETURNS_POLICY&&f.RETURNS_POLICY.secondaryViewData&&f.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies)switch(f.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies.length){case 0:f="GENERIC_RETURN_POLICY";break a;case 1:f="SINGLE_SPECIFIC_RETURN_POLICY";break a;default:f="MULTIPLE_SPECIFIC_RETURN_POLICY";break a}f=void 0}g=f||g;k=JSON.parse(JSON.stringify(k));e.log(c.$.extend(!0,k,{ref:b.REF_MARKER_PREFIX[g]+
b.REF_MARKER_SUFFIX[h],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h])}}});l.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-pay-on-delivery-metric-logger",function(c,e,b,d,a){return{log:function(g,h,f,k){f=(f=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+f,f))&&f.PAY_ON_DELIVERY&&f.PAY_ON_DELIVERY.isEligible?f.PAY_ON_DELIVERY.isEligible?"PAY_ON_DELIVERY_ACTIVE":
"PAY_ON_DELIVERY_INACTIVE":void 0;g=f||g;k=JSON.parse(JSON.stringify(k));e.log(c.$.extend(!0,k,{ref:b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h])}}})});
/* ******** */
(function(k){var m=window.AmazonUIPageJS||window.P,l=m._namespace||m.attributeErrors,a=l?l("DetailPageMobileIconFarmAssets@desktop","DetailPageMobileIconFarm"):m;a.guardFatal?a.guardFatal(k)(a,window):a.execute(function(){k(a,window)})})(function(k,m,l){k.when("A","a-popover","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-popover",function(a,f,b,d,c,h){var p=function(e){var g=e.data("name");a.off("a:popover:beforeShow:"+
g);a.on("a:popover:beforeShow:"+g,function(e){e=h.getCurrentBuyingOptionIndex();d.log(g,c.METRIC_TYPE.ICON_CLICK,e);d.log(g,c.METRIC_TYPE.SECONDARY_PAGE_OPEN,e)});a.off("a:popover:beforeHide:"+g);a.on("a:popover:beforeHide:"+g,function(e){e=h.getCurrentBuyingOptionIndex();d.log(g,c.METRIC_TYPE.SECONDARY_PAGE_CLOSE,e)})};return{init:function(){for(var e=a.$(b.ICON_FARM_CONTAINER_CLASS),g=0;g<e.length;g++){var d=a.$(e[g]),c=d.data(b.TYPE_PARAM);if(c&&c===b.TYPE_PARAM_VALUE_CUSTOM_POP_OVER){var c=d,
h=a.$("#"+c.data(b.POPOVER_CONTENT_PARAM)),h={activate:b.POPOVER_ACTIVATION,position:b.POPOVER_POSITION,width:b.POPOVER_WIDTH,inlineContent:h.html(),name:c.data("name")};f.create(c,h);p(d)}}}}});k.when("A","get-icon-farm-page-state","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-returns-policy",function(a,f,b,d,c,h){a.declarative("returns-policy-url","click",function(a){a=h.getCurrentBuyingOptionIndex();d.log("RETURNS_POLICY",
c.METRIC_TYPE.FULL_RETURN_POLICY,a);a=f.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+a,a);m.open(a.RETURNS_POLICY.genericReturnPolicyURL,"_blank")});a.off("a:popover:beforeShow:return-policy-secondary-view");a.on("a:popover:beforeShow:return-policy-secondary-view",function(a){a=h.getCurrentBuyingOptionIndex();d.log("RETURNS_POLICY",c.METRIC_TYPE.ICON_CLICK,a);d.log("RETURNS_POLICY",c.METRIC_TYPE.SECONDARY_PAGE_OPEN,a)});a.off("a:popover:beforeHide:return-policy-secondary-view");a.on("a:popover:beforeHide:return-policy-secondary-view",
function(a){a=h.getCurrentBuyingOptionIndex();d.log("RETURNS_POLICY",c.METRIC_TYPE.SECONDARY_PAGE_CLOSE,a)});return{init:function(){}}});k.when("A","IconFarmPageStateParserService","icon-farm-desktop-popover","icon-farm-desktop-returns-policy","iconfarm-metricLogger","icon-farm-constants","iconfarm-metrics-constants","iconfarm-metric-cache","icon-farm-web-mod-util","icon-farm-change-buying-option","atf","ready").execute(function(a,f,b,d,c,h,p,e,g,v){function u(){e.reset();a.loadImageManually(a.$(".icon-box"));
b.init();d.init();v.init();for(var g=0;g<n;g++)l(g)}var n=g.getBuyingOptionCounts(),l=function(e){var g="#icon-farm-widget-"+e,b=a.$(g);b&&b.length?c.log("ICON_FARM_WIDGET",p.METRIC_TYPE.GLANCE_VIEW,e):c.log("ICON_FARM_WIDGET",p.METRIC_TYPE.ABSENT,e);(g=a.$(g+" .icon-container"))&&g.length&&g.each(function(){c.log(a.$(this).data("name"),p.METRIC_TYPE.GLANCE_VIEW,e)})};u();a.on("a:pageUpdate",function(){var e;a:{try{if(a.$("#"+h.ICON_FARM_V2_FEATURE_DIV).find("script").length){e=h.ICON_FARM_V2_FEATURE_DIV;
break a}if(a.$("#"+h.ICON_FARM_V2_PRIMARY_FEATURE_DIV).find("script").length){e=h.ICON_FARM_V2_PRIMARY_FEATURE_DIV;break a}c.log("ICON_FARM_WIDGET",p.PAGE_DATA_MISSING,0)}catch(g){k.log(g,"ERROR","DetailPageMobileIconFarm")}e=void 0}if(e){for(var b=0;b<n;b++)if(f.isNewState(e,h.ICON_FARM_STATE+"-"+b)){var d=f.processState(e,h.ICON_FARM_STATE+"-"+b);if(a.objectIsEmpty(d))return}u()}})});k.declare("icon-farm-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_V2_FEATURE_DIV:"iconfarmv2_feature_div",
ICON_FARM_V2_PRIMARY_FEATURE_DIV:"iconFarmV2InsidePrimary_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",ICON_FARM_CONTAINER_CLASS:".icon-container",ICON_FARM_SECONDARY_VIEW_HOLDER_ID:"#icon-farm-secondary-view-holder",ICON_FARM_STATE:"iconfarm-state",POPOVER_ACTIVATION:"onclick",POPOVER_POSITION:"triggerBottom",POPOVER_WIDTH:"533",POPOVER_CONTENT_PARAM:"iconContent",TYPE_PARAM:"type",TYPE_PARAM_VALUE:"bottom-sheet",TYPE_PARAM_VALUE_CUSTOM_POP_OVER:"custom-pop-over"});(function(){k.when("A",
"atf","ready").register("IconFarmPageStateParserService",function(a){function f(b,f){f='script[data-a-state\x3d"'+JSON.stringify({key:f})+'"]';return a.$("#"+b).find(f)}return{processState:function(b,d){var c;try{var h=f(b,d),l=h[0];c=h.html();var e=a.parseJSON(c);a.state(d,e);a.$.data(l,"state_processed",!0);return e}catch(g){console.log(g)}return a.state(d)},isNewState:function(b,d){try{return!a.$.data(f(b,d)[0],"state_processed")}catch(c){console.warn("Unable to determine state status",c)}return!1}}})})();
"use strict";k.when("A","icon-farm-mod-constants").register("icon-farm-web-mod-util",function(a,f){return{getBuyingOptionCounts:function(){if(!a.$(f.selector.iconfarm).length)return 1;var b=a.$(f.selector.BUYBOX_ACCORDION);if(0===b.length)return 1;b=b[0];if(a.$(f.selector.iconfarm).length){for(var b=b.children,d=0,c=0;c<b.length;c++)var h=a.$(b[c]).attr("data-buying-option-index"),d=Math.max(d,h);b=d}else b=0;return b+1},getCurrentBuyingOptionIndex:function(){var b=0;if(!a.$(f.selector.iconfarm).length)return 0;
var d=a.$(f.selector.BUYBOX_ACCORDION_ACTIVE);d.length&&(b=d.index());return b}}});k.when("A","icon-farm-mod-constants","icon-farm-web-mod-util","ready").register("icon-farm-change-buying-option",function(a,f,b){var d=b.getCurrentBuyingOptionIndex(),c=function(b){var c=a.$(f.selector.iconfarm);if(c.length){var e=c[0].children;e.length&&(c=e[d],b!==l&&b.selectedRow!==l&&b.selectedRow.$row!==l&&a.$(b.selectedRow.$row)!==l&&(b=a.$(b.selectedRow.$row).index(),b!==d&&(e=e[b],c.style.display="none",e.style.display=
"block",d=b)))}};return{init:function(){a.on("a:pageUpdate",c);a.on("PageRefresh:ATF",c);a.on("a:accordion:buybox-accordion:select",c)}}});"use strict";k.when("A","a-carousel-constants","a-carousel-utils","a-carousel-transition-slide").register("carousel-move-one-box-transition-iconfarm",function(a,f,b,d){function c(e,g,b,c){b?(e.setAttr(f.CURRENTLY_WRAPPING,!0),g.callback=b,g.easingFunction=g.easingFunction||e.getAttr(f.WRAP_EASING),g.animationSpeed=1.3*(a.isFiniteNumber(g.animationSpeed)?g.animationSpeed:
e.getAttr(f.ANIMATION_SPEED))):g.callback=c}function h(e,a){(a.animationDuration===l||0<a.animationDuration)&&!a.silent&&e.setAttr(f.ANIMATING,!0)}function k(e,a){var b=e.getAttr(f.PAGE_SIZE),c=e.dom.$container.find(".a-carousel-card"),d=c.width(),c=c.outerWidth();a-=b*c;b=0;a>d&&(b=a-d);e.dom.$container.find(".a-carousel-right").css("margin-right",b+f.CURRENT_PIXEL)}b=a.copy(d);b.gotoPage=function(e,a,b){var c=e.getAttr(f.CIRCULAR),d=e.getAttr(f.PAGE_SIZE),l=e.getAttr(f.SET_SIZE);b=b||{};h(e,b);
var k=1;l>d&&(k=l-d+1);c?a>k?a=1:1>a&&(a=k):a>k?a=k:1>a&&(a=1);e.setAttr(f.PAGE_NUMBER,a);this.gotoIndex(e,a,b);this.setButtonVisibility(e,a,k)};b.gotoIndex=function(a,b,d){var l,n,r,m,q,t;d=d||{};h(a,d);l=a.getAttr(f.CIRCULAR)&&!a.getAttr(f.CURRENTLY_WRAPPING);n=d.callback;r=this;m=null;q=a.getViewportWidth();a.setAttr(f.FIRST_VISIBLE_ITEM,b);1>b?l&&(m=-q,t=function(){n&&n();r.wrapToLast(a)}):b>a.getAttr(f.SET_SIZE)?l&&(m=a.getAttr(f.CURRENT_PIXEL)+q,t=function(){n&&n();r.wrapToFirst(a)}):m=a.getItemOffset(b);
c(a,d,t,n);null!==m&&this.gotoPixel(a,m,d);k(a,q)};b.setButtonVisibility=function(a,b,c){var d=a.getAttr(f.CIRCULAR),h=a.dom.$container.find(".a-carousel-goto-prevpage"),k=a.dom.$container.find(".a-carousel-goto-nextpage");d?(h.css("visibility","visible"),k.css("visibility","visible")):(b===l&&c===l&&(b=a.getAttr(f.PAGE_NUMBER),d=a.getAttr(f.PAGE_SIZE),a=a.getAttr(f.SET_SIZE),c=1,a>d&&(c=a-d+1)),1===b?h.css("visibility","hidden"):h.css("visibility","visible"),b===c?k.css("visibility","hidden"):k.css("visibility",
"visible"))};b.handleWindowResize=function(a){var b=a.getAttr(f.CIRCULAR),c=a.dom.$container.find(".a-carousel-goto-prevpage");a=a.dom.$container.find(".a-carousel-goto-nextpage");b||(c.css("visibility","hidden"),a.css("visibility","hidden"))};return b});k.when("A","a-carousel-framework","carousel-move-one-box-transition-iconfarm").register("move-one-box-iconfarm-carousel",function(a,f,b){f.registerStrategy("transition","a-carousel-iconfarm-moveOneBox",b);return{initializeCarousel:function(d){f.onInit(d,
function(c){b.setButtonVisibility(c,l,l);a.$(m).resize(function(){b.handleWindowResize(c);a.delay(function(){b.setButtonVisibility(c,l,l)},1E3)})})}}})});
/* ******** */
(function(d){var f=window.AmazonUIPageJS||window.P,g=f._namespace||f.attributeErrors,b=g?g("DetailPageSocialProofingAssets@common","DetailPageSocialProofing"):f;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,f,g){d.declare("socialProofingConstants",{socialProofingAUIState:"social-proofing-page-state-cache",socialProofingState:"social-proofing-page-state",socialProofingTriggeredAsinsState:"social-proofing-triggered-asins-page-state",socialProofingBadgeClass:".social-proofing-badge",
socialProofingFaceoutClass:".social-proofing-faceout",socialProofingBadgeWeblabDivId:"#social-proofing-badge-weblab-data",MOBILE_APP:"mobileApp",ATTRIBUTION:"SocialProofing"});"use strict";d.when("A","socialProofingConstants","socialProofingPageState","ready").register("socialProofingUtil",function(b,e,h){function k(b,a){f.ue&&f.ue.trigger?f.ue.trigger(b,a):d.log("Failed to get ue and ue.trigger for weblab: "+b+"and treatment: "+a,"WARN",e.ATTRIBUTION)}return{getAttributeFromPageState:function(c){var a=
b.state(e.socialProofingState);if(a)return a[c]},triggerWebLab:k,triggerWeblabsBySectionId:function(c){c=b.$(c);if(c.length){if(!h.isWeblabTriggered()&&(c=c[0])){c=c.dataset;for(var a in c)k(a.toString().toUpperCase(),c[a]);h.updateWeblabTriggeredToTrue()}}else b.state.replace(e.socialProofingTriggeredAsinsState,{})}}});"use strict";d.when("A","socialProofingConstants","ready").register("socialProofingPageState",function(b,e){function d(){var a=b.state(c);if(a)return a.asin}function f(){var a=b.state(e.socialProofingTriggeredAsinsState);
return a?!0===a.weblabTriggered:(b.state.replace(e.socialProofingTriggeredAsinsState,{weblabTriggered:!1}),!1)}var c=e.socialProofingState;return{reloadPageState:function(){b.each(b.$(".social-proofing-badge").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&(b.state.replace(c,a,!0),b.state.replace(e.socialProofingTriggeredAsinsState,{}))});b.each(b.$(".social-proofing-faceout").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===
c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&b.state.replace(c,a,!0)})},isMobileApp:function(){var a=b.state(c);if(a)return a.deviceType===e.MOBILE_APP},getAsin:d,getMerchantId:function(){var a=b.state(c);if(a)return a.merchantId},getRemoteAddress:function(){var a=b.state(c);if(a)return a.remoteAddress},getIsInternal:function(){var a=b.state(c);if(a)return a.isInternal},getIsRobot:function(){var a=b.state(c);if(a)return a.isRobot},getAvailableBadges:function(){var a=b.state(c);if(a)return a.availableBadges},
getAvailableFaceouts:function(){var a=b.state(c);if(a)return a.availableFaceouts},isWeblabTriggered:f,updateWeblabTriggeredToTrue:function(){var a=b.state(e.socialProofingTriggeredAsinsState);a&&!f()&&(a.weblabTriggered=!0,b.state.replace(e.socialProofingTriggeredAsinsState,a))}}})});
/* ******** */
(function(f){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,d=e?e("DetailPageSocialProofingAssets@logger","DetailPageSocialProofing"):c;d.guardFatal?d.guardFatal(f)(d,window):d.execute(function(){f(d,window)})})(function(f,c,e){f.when("A","ready").register("socialProofingNexusLogger",function(d){function f(b){var a=c.ue;if(a)try{a.event&&a.event(b,b.producerId,b.schemaId)}catch(d){a.count("NexusLoggerFailure",1)}}var a={};return{createEvent:function(b){a.producerId=b.producerId;
a.schemaId=b.schemaId;a.pageAsin=b.pageAsin;a.pageType=b.pageType;a.subPageType=b.subPageType;a.merchantId=b.merchantId;a.remoteAddress=b.remoteAddress;a.isInternal=b.isInternal?1:0;a.isRobot=b.isRobot?1:0;a.server=c?c.ue_sn:""},logNexusEvent:function(b,c){if(0!==Object.keys(a).length){var e=JSON.parse(JSON.stringify(a));e.refMarker=b;d.objectIsEmpty(c)||Object.keys(c).forEach(function(a){e[a]=c[a]});f(e)}}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@badges","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingBadgeUtil",function(b,d){return{isSocialProofingBadgePresent:function(){return 0<b.$(d.socialProofingBadgeClass).length}}});"use strict";a.declare("socialProofingBadgeMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_badge_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingBadgeMetricConstants","socialProofingNexusLogger").register("socialProofingBadgeNexusLogger",function(b,d,a,c){return{createSocialProofingBadgeNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableBadges();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@faceouts","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingFaceoutUtil",function(b,d){return{isSocialProofingFaceoutPresent:function(){return 0<b.$(d.socialProofingFaceoutClass).length}}});"use strict";a.declare("socialProofingFaceoutMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_faceout_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingFaceoutMetricConstants","socialProofingNexusLogger").register("socialProofingFaceoutNexusLogger",function(b,d,a,c){return{createSocialProofingFaceoutNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableFaceouts();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(b){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,c=d?d("DetailPageSocialProofingAssets@desktop","DetailPageSocialProofing"):a;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,a,d){b.when("A","socialProofingPageState","socialProofingBadgeNexusLogger","socialProofingFaceoutNexusLogger","socialProofingBadgeUtil","socialProofingFaceoutUtil","socialProofingUtil","socialProofingConstants","atf","ready").execute(function(c,b,a,e,d,
f,g,h){c.on("a:pageUpdate",function(){d.isSocialProofingBadgePresent()&&(b.reloadPageState(),a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);f.isSocialProofingFaceoutPresent()&&(b.reloadPageState(),e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())});d.isSocialProofingBadgePresent()&&(a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);
f.isSocialProofingFaceoutPresent()&&(e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageBylineInfoAssets@core","DetailPageBylineInfo"):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(q){var k=window.AmazonUIPageJS||window.P,n=k._namespace||k.attributeErrors,D=n?n("SocialShareWidgetAUI","AmazonUI"):k;D.guardFatal?D.guardFatal(q)(D,window):D.execute(function(){q(D,window)})})(function(q,k,n){function D(h){if(Array.isArray(h)){for(var a=0,g=Array(h.length);a<h.length;a++)g[a]=h[a];return g}return Array.from(h)}"use strict";"use strict";var Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&
h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};q.register("SocialShareWidget",function(){return function(h){function a(d){if(g[d])return g[d].exports;var f=g[d]={i:d,l:!1,exports:{}};return h[d].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var g={};return a.m=h,a.c=g,a.d=function(d,f,c){a.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:c})},a.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,
"__esModule",{value:!0})},a.t=function(d,f){if((1&f&&(d=a(d)),8&f)||4&f&&"object"==("undefined"===typeof d?"undefined":Y(d))&&d&&d.__esModule)return d;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:d}),2&f&&"string"!=typeof d)for(var e in d)a.d(c,e,function(b){return d[b]}.bind(null,e));return c},a.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return a.d(f,"a",f),f},a.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,
f)},a.p="",a(a.s=6)}([function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var d,f=g(4);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(d=a.Device||(a.Device={}));a.context=function(){var e=d.Other;(0,a.isMobileApp)()&&
(0,a.isAndroid)()?e=d.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?e=d.IOS:(0,a.isMobileWeb)()&&(e=d.MWeb);var b="unknown";return(0,a.isMobileApp)()?b="mshop":(0,a.isMobileWeb)()?b="mweb":(0,a.isDesktop)()&&(b="desktop"),{device:e,page:(0,a.isUeAvailable)()?k.ue_pty:"unknown",subPage:(0,a.isUeAvailable)()?k.ue_spty||k.ue_pti:"unknown",platform:b}};a.isTwisterAsin=function(){return!!k.isTwisterPage||!!k.twisterController||c};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&
(0,f.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!k.ue};a.isAUILoaded=function(){var a;return(0,f.isString)(null===(a=null===k||void 0===k?void 0:k.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};a.isIE=function(){return(0,f.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,f.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,f.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,f.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,f.testUserAgent)(/trident|Edge/i)};
a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,f.getCookie)("amzn-app-id"))};a.isMobileWeb=function(){return 450>=k.screen.availWidth&&((0,f.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return k.navigator&&(0,f.isFunction)(k.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&(0,f.isFunction)(a.share)};
a.isCSALoaded=function(){return(0,f.isFunction)(k.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=k.navigator)||void 0===a?void 0:a.vendor)};var c=!1;(0,a.isAUILoaded)()&&k.P.when("mobile-inline-twister-critical").execute(function(){c=!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,isMobileApp:a.isMobileApp,
isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari,isRTL:a.isRTL}},function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.defaultCustomizeShareCSAData=a.defaultShareDataAttributes=a.REGEX_TO_REF_ID_AND_CHANNEL_APP=a.SSF_AUI_PACKAGE_ATTRIBUTION=a.TRUE=a.FALSE=a.EMBED_CHANNEL_REF=a.CP_CHANNEL_REF=a.RAW_CHANNEL_PREFIX=a.EMPTY_STRING=a.DEFAULT_CSA_REF_ID=a.UNKNOWN=
a.CSA_DEFAULT_VALUE=a.customShareOptions=a.customize=a.CSA_HIT_TYPE=void 0;h=a.CSA_HIT_TYPE||(a.CSA_HIT_TYPE={});h.CLICK_SUCCESS="click_success";h.CLICK_ERROR="click_error";h.CLICK_CANCEL="click_cancel";h.SHARE="share";h.CUSTOMIZE_SHARE="click_customize_success";a.customize="customize";a.customShareOptions="customShareOptions";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";
a.EMBED_CHANNEL_REF="eb";a.FALSE="false";a.TRUE="true";a.SSF_AUI_PACKAGE_ATTRIBUTION="SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",
channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"},facebook:{refId:"fb",channel:"Facebook"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,
requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,marketplaceId:a.CSA_DEFAULT_VALUE.string};a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});var d=g(3);h=function(){function a(c,e,b){this.REF_PARAM_NAME="ref_";a.isValid(c)||(c=a.getDefault());this.url=
new URL(c);this._refMarker=new d.default(e,b)}return a.prototype.getUpdatedUrl=function(a){var e=new URL(this.raw);return e.searchParams.set(this.REF_PARAM_NAME,a),e.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(e){return!1}return!0},a.getDefault=function(){var a,
e,b=null===(a=null===k||void 0===k?void 0:k.location)||void 0===a?void 0:a.href;if(!b)return(null===(e=null===k||void 0===k?void 0:k.ue)||void 0===e?0:e.sn)?"https://"+k.ue.sn:"https://amazon.com";a=new URL(b);e=a.searchParams.has("psc")?"?psc\x3d1":"";return k.ue_pti?k.location.origin+"/dp/"+k.ue_pti+e:(a.search=e,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);
return this.getUpdatedUrl(a)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=h},function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});var d,f=g(0),c=g(1);!function(a){a.RETURN="r";a.CLICK="cl"}(d||(d={}));h=function(){function a(a,d){if(void 0===
a&&(a="ur"),void 0===d&&(d=void 0),this.PREFIX="cm_sw",this.id="",this.refId="",this.cxt={device:f.Device.Other,page:"",subPage:"",platform:c.UNKNOWN},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,f.context)();this.treatment=d;this.generateUniqueId()}return Object.defineProperty(a.prototype,"return",{get:function(){return this.get(d.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(d.CLICK)},
enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){return this.PREFIX+"_"+d.RETURN+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+(this.treatment?this.treatment+"_":"")+this.id},a.prototype.getClickForChannel=function(a){return this.PREFIX+"_"+d.CLICK+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+this.id},a.prototype.generateUniqueId=function(){var a,d=null===(a=null===k||void 0===k?void 0:k.ue)||void 0===a?void 0:a.rid;return d||(d=(""+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)).substring(0,
13)),this.id=d},a.prototype.get=function(a){return this.PREFIX+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+(this.treatment?this.treatment+"_":"")+this.id},a}();a.default=h},function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};
a.isString=function(a){return"string"==typeof a};a.truncate=function(a,f){void 0===a&&(a="");var d=Array(3).fill(".");return a.length>f?a.substring(0,f-3)+d.join(""):a};a.testUserAgent=function(a){if(!k&&!k.navigator)return!1;try{return a.test(k.navigator.userAgent)}catch(f){return!1}};a.getCookie=function(a){a+="\x3d";for(var d=document.cookie.split(";"),c=0;c<d.length;c++){for(var e=d[c];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(a))return e.substring(a.length,e.length)}return""};a.getDPXObject=
function(){var a,f;return null===(f=null===(a=k.DetailPage)||void 0===a?void 0:a.StateController)||void 0===f?void 0:f.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,getDPXObject:a.getDPXObject}},function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});var d=g(0),f=g(9),c=g(1);h=function(){function a(){}return a.logCountOnce=function(a){(0,d.isUeAvailable)()&&k.ue.count(a,
(k.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,c){var b=this;(0,d.isAUILoaded)()&&k.P.when("A").execute(function(d){d.trigger(b.BASE_METRIC_NAME+":metrics:logged",{fullMetricName:a,callee:c})})},a.logCounter=function(a,c){a=this.BASE_METRIC_NAME+"."+a+(c?"."+c:"");this.emitFullMetricName(a,"logCounter");this.logCountOnce(a)},a.logCounterRefactor=function(a,c){c=c?"."+c.toLowerCase():"";a=""+this.BASE_METRIC_NAME+c+"."+this.platform+this.metricName+"."+a.toLowerCase();this.emitFullMetricName(a,
"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a=this.BASE_METRIC_NAME+"."+this.platform+this.metricName+"."+a.toLowerCase();this.logCountOnce(a)},a.logFatal=function(a){(0,d.isAUILoaded)()&&k.P.log(a,"FATAL",this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,c){(0,d.isCSALoaded)()&&(new f.default).withCSAClickEventData(c).withShareHitType(a).logEvent()},a.startTimer=function(a){this.timers[this.BASE_METRIC_NAME+"."+this.LATENCY+"."+a]=Date.now()},a.stopTimer=function(a){a=this.BASE_METRIC_NAME+
"."+this.LATENCY+"."+a;var b=this.timers[a];(0,d.isUeAvailable)()&&b&&(k.ue.count(a,Date.now()-b),this.emitFullMetricName(a,"stopTimer"),delete this.timers[a])},a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=c.UNKNOWN,a.metricName="",a.timers={},a.getMetricName=function(b,c){var e;if(void 0===c&&(c=""),(0,d.isUeAvailable)()){var f=(0,d.context)();a.platform=f.platform;a.metricName=c?"."+c.toLowerCase():""}return(b=b('[data-action\x3d"ssf-share-icon"]').data())?(b=(null===
(e=b.ssfShareIcon)||void 0===e?void 0:e.shareDataAttributes)||{},e=b.ingress,b=b.platform,((void 0===e?"unknown":e)+"."+(void 0===b?"unknown":b)+(c?"."+c:"")).toLowerCase()):""},a}();a.default=h},function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;h=g(7);var d=g(2),f=g(8),c=g(5),e=g(10),b=g(3),p=g(0);g=g(1);a.SocialShareCore={Channels:h.default,Url:d.default,Translations:f.default,Metrics:c.default,ShareSheet:e.default,RefMarker:b.default,Detection:p.default,
Constants:g};a.default=a.SocialShareCore},function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,f){var c={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"https://m.media-amazon.com/images/G/01/share-icons/email-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/email-squared.svg",canOpenInPopup:!1,getSharingUrl:function(b){var c="?subject\x3d"+encodeURIComponent(a.emailSubject||a.title),e="\x26body\x3d"+encodeURIComponent(a.title);
b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+c+e+" "+b}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",image:"https://m.media-amazon.com/images/G/01/share-icons/pinterest-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/pinterest-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){b="?url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));
var c="\x26description\x3d"+encodeURIComponent(a.title),e="\x26media\x3d"+encodeURIComponent(a.image);return""+this.shareBaseUrl+b+c+e+"\x26method\x3dbutton"}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"https://m.media-amazon.com/images/G/01/share-icons/line-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/line-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){var c="?text\x3d"+encodeURIComponent(a.text)+
" "+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+c+b}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"https://m.media-amazon.com/images/G/01/share-icons/facebook-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/facebook-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){b=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup",
"href\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)),"redirect_uri\x3d"+encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),"hashtag\x3d"+encodeURIComponent("#"+(a.hashtags[0]||"Amazon"))].join("\x26");return""+this.shareBaseUrl+b}},tw:{label:"Twitter",name:"twitter",ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"https://m.media-amazon.com/images/G/01/share-icons/twitter-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/twitter-squared.svg",
canOpenInPopup:!0,getSharingUrl:function(b){var c="?text\x3d"+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var e="\x26hashtags\x3d"+a.hashtags.join(","),d="\x26via\x3d"+encodeURIComponent("Amazon");return""+this.shareBaseUrl+c+b+e+d}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"https://m.media-amazon.com/images/G/01/share-icons/whatsapp-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/whatsapp-squared.svg",
canOpenInPopup:!0,getSharingUrl:function(b){b="\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(a.text)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+b}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"https://m.media-amazon.com/images/G/01/share-icons/sms-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/sms-squared.svg",canOpenInPopup:!1,getSharingUrl:function(b){b=
"\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+b}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"https://m.media-amazon.com/images/G/01/share-icons/embed-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/embed-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",name:"copy",ref:"cp",shareBaseUrl:"",image:"https://m.media-amazon.com/images/G/01/share-icons/link-circular.svg",
imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/link-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==f?0:f.length){var e={};return f.forEach(function(a){c[a]&&(e[a]=c[a])}),e}return c}},function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},function(h,a,g){Object.defineProperty(a,"__esModule",{value:!0});var d=g(0),f=g(1);h=function(){function a(){var c=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();
a=c.getDateTimeByOffset(a);var b=c.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:b}};this.getMarketplaceId=function(a){return"string"==typeof a?a:k.ue&&k.ue.mid?k.ue.mid:f.CSA_DEFAULT_VALUE.string};var b=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:f.CSA_DEFAULT_VALUE.number,hitDay:b.hitDay,hitDatetime:b.hitDatetime,hitDatetimeUtc:b.hitDatetimeUtc,pageType:k.ue_pty?k.ue_pty:f.CSA_DEFAULT_VALUE.string,subPageType:k.ue_spty?
k.ue_spty:f.CSA_DEFAULT_VALUE.string,sessionId:k.ue&&k.ue.sid?k.ue.sid:f.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var b=a.shareDataAttributes;if(this.csaMetricsData.customerId=b.customerId?b.customerId:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=b.requestId?b.requestId:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=b.asin?b.asin:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=b.ingress?b.ingress:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=
b.platform?b.platform:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(b.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(b.isRobot),this.csaMetricsData.channel=a.channel?a.channel:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=a.refererURL?a.refererURL:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(b.marketplaceId),this.csaMetricsData.isExperiment=
/T\d+/.test(a.treatment)?"Y":"N",a.weblab)b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=b;a.customizeShareCSAData&&(b=this.csaMetricsData.shareEntities,b=void 0===b?{}:b,a.customizeShareCSAData.isCustomizedExperienceEnabled===f.TRUE&&(b.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,b.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,b.hasQuote=a.customizeShareCSAData.hasQuote,
b.isCustomized=a.customizeShareCSAData.isCustomized,this.csaMetricsData.shareEntities=b),a.caf)&&(b=this.csaMetricsData.shareEntities,b=void 0===b?{}:b,b.cafSwitchEnabled=a.cafSwitchEnabled?f.TRUE:f.FALSE,this.csaMetricsData.shareEntities=b);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||f.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=function(c){var b=
new Date;0!==c&&(c*=a.MINUTES_TO_MILISECONDS,b=b.getTime()-c,b=new Date(b));return b.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,d.isCSALoaded)()&&k.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",a}();a.default=
h},function(h,a,g){var d=this&&this.__assign||function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var f,c=g(5),e=g(0),b=g(2),p=g(4),m=g(1);(0,e.isAUILoaded)()&&k.P.when("mash").execute(function(a){return f=a});h=function(){function a(a){this.sheetOptions={title:m.EMPTY_STRING,text:m.EMPTY_STRING,shareUrl:new b.default("http://amazon.com/",
"ur"),lang:"en",shareDataAttributes:m.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:m.defaultCustomizeShareCSAData};this.sheetOptions=d(d({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,b=this,d=this.sheetOptions.shareDataAttributes.ingress,e={channel:m.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},
f=this.shareUrl.return;this.sheetOptions.tinyUrl&&(f=this.sheetOptions.tinyUrl,c.default.logCounter("MWeb.Tiny.Success"),c.default.logCounterRefactor("Tiny.Success",d));var h=(0,p.isFunction)(this.sheetOptions.sheetShownCallback);try{null===(a=null===k||void 0===k?void 0:k.navigator)||void 0===a||a.share({url:f,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){h&&b.sheetOptions.sheetShownCallback();c.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_SUCCESS,e);c.default.logCSAEvent(m.CSA_HIT_TYPE.SHARE,
e);(0,p.isFunction)(b.sheetOptions.incrementShareCount)&&b.sheetOptions.incrementShareCount(e.refMarker);c.default.logCounterRefactor("ChannelClick",b.sheetOptions.shareDataAttributes.ingress)}).catch(function(){h&&b.sheetOptions.sheetShownCallback();c.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_SUCCESS,e);c.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_CANCEL,e)})}catch(y){c.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_ERROR,e)}},a.prototype.launchNativeApp=function(){var a=this,b=this.shareUrl.refMarker.click,
e=this.sheetOptions.shareDataAttributes,h=this.sheetOptions.refererURL,g=this.sheetOptions.customizeShareCSAData,k=this.sheetOptions.shareDataAttributes.ingress,n=m.EMPTY_STRING,t=this.sheetOptions.caf||!1,x=this.sheetOptions.cafSwitchEnabled||!1,l=this.shareUrl.return,z=(0,p.isFunction)(this.sheetOptions.incrementShareCount);this.sheetOptions.tinyUrl&&(l=this.sheetOptions.tinyUrl,c.default.logCounter("MShop.Tiny.Success"),c.default.logCounterRefactor("Tiny.Success",k));var C={channel:n,refMarker:b,
refererURL:h,shareDataAttributes:e,customizeShareCSAData:g,caf:t,cafSwitchEnabled:x};e={messagePlain:this.getShareMessage,messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:l,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==f||f.share(d(d({},e),{successCallback:function(){(0,p.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();c.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_SUCCESS,
C)},failCallback:function(){c.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_ERROR,C)},shareServiceSelectedCallback:function(e){e&&"'null'"!==e?((0,p.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(e),C.channel=a.getChannelByKeyword(e).channel,e=a.getChannelByKeyword(e).refId,C.refMarker=a.shareUrl.refMarker.getClickForChannel(e),c.default.logCSAEvent(m.CSA_HIT_TYPE.SHARE,C),c.default.logCounterRefactor("ChannelClick",a.sheetOptions.shareDataAttributes.ingress),z&&a.sheetOptions.incrementShareCount(b)):
("MSHOP_ANDROID"===a.sheetOptions.shareDataAttributes.platform&&z&&a.sheetOptions.incrementShareCount(b),c.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_CANCEL,C))}}))},a.prototype.launch=function(a){(0,e.isNativeAppShareAvailable)(f)?this.launchNativeApp():(0,e.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,p.isFunction)(a)?a():(c.default.logCounter("Click.ShareUnavailable"),c.default.logCounterRefactor("Click.ShareUnavailable",this.sheetOptions.shareDataAttributes.ingress))},Object.defineProperty(a.prototype,
"getShare160Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;return(0,p.truncate)(this.sheetOptions.title,160-b)+" "+a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;return(0,p.truncate)(this.sheetOptions.title,140-b)+" "+a},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return m.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},
a.prototype.getChannelByRegex=function(a){return m.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},a.prototype.getChannelByKeyword=function(a){var b=m.RAW_CHANNEL_PREFIX+a,c=m.DEFAULT_CSA_REF_ID,e=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo|^Facebook$/ig);if(e&&e.length)return{channel:this.getChannelByRegex(e[0].toLowerCase()),refId:this.getRefByRegex(e[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b=
"SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b="WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){return this.sheetOptions.title+
" "+(this.sheetOptions.tinyUrl||this.shareUrl.return)},enumerable:!1,configurable:!0}),a}();a.default=h}])});"use strict";q.register("SocialShareWidgetConfig",function(){var h=Object.freeze({MODAL:"modal",POPOVER:"popover"}),a=Object.freeze({IOS:"ios",ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"}),g=Object.freeze({email:{label:"Email",image:"customchannels-email.png",ref:"em",shareUrl:"mailto:?subject\x3d{subject}\x26body\x3d{body}\x26url\x3d{url}",className:"email",stringId:"taf_customshare_email"},
copy:{label:"Copy",image:"customchannels-link.png",ref:"cp",shareUrl:"",className:"custom-share-copy",stringId:"taf_customshare_copy"},more:{label:"More",image:"customchannels-more.png",ref:"",shareUrl:"",className:"custom-share-native-sheet",stringId:"taf_customshare_more"}});return{WIDGET_TYPE:h,WIDGET_ICON:a,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb","tw","pi"],defaultShareData:{url:"",title:"Amazon.com",text:"",image:"",
hashtags:["Amazon"],type:h.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,caf:!1,cafSwitch:!1,cafStarAlignmentLeft:!1,cafCustomShareOptionsEnabled:!1,t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48,defaultCustomShareOptions:g},defaultWidgetData:{icon:a.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,isRobot:2,userAgent:k.navigator.userAgent,platform:"DESKTOP",ingress:k.ue_pty,asin:k.ue_pti,requestId:k.ue_id,customerId:k.opts&&
k.opts.customerId,marketplaceId:k.ue_mid},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"},customShareOptions:[]}});"use strict";q.when("A","SocialShareWidget","SocialShareWidgetTemplating","SocialShareWidgetConfig").register("SocialShareWidgetAUI",function(h,a,g,d){var f=a.SocialShareCore,c=f.Metrics,e=
0,b=function(){},p=!1,m=c.getMetricName(h.$),t=h.constants.HIDE_CLASS;c.startTimer(m);c.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var a=h.$,r=f.Detection,w=f.Translations,u=f.Channels,A=f.ShareSheet,B=f.Url,y=f.Constants,H=function(a){a=a.data("share")||a.find("[data-share]").data("share");return h.extend({},d.defaultWidgetData,a)},x=a(".ssf-share-trigger"),l=d.defaultShareData,z=H(x),C=l.url,L=a("#ac-getlink-bottomsheet"),N=a('[data-action\x3d"ssf-share-icon"]'),J=function(){var a=
d.iconMap;return z.icon===d.WIDGET_ICON.ARROW?a.arrow:r.isDesktop()?a.ios:z.icon===d.WIDGET_ICON.VARIABLE?r.isIOS()?a.ios:a.android:a[z.icon]},Q=function(a){a.find('[class*\x3d"ssf-multi-"]').length||a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));x=a.find('[class*\x3d"ssf-multi-"]')},G=void 0,E=void 0,I=void 0,F=void 0,U=void 0,V=void 0,M=void 0;q.when("a-sheet").execute(function(a){return G=a});q.when("a-popover").execute(function(a){return E=a});q.when("a-modal").execute(function(a){return I=
a});q.when("SocialShareWidgetTiny").execute(function(a){return M=a});var W=function(a,b){var c=2<arguments.length&&arguments[2]!==n?arguments[2]:"ssf-share-bottom-sheet",e=l.customize||l.caf;if(!F||e)F=G.create({name:c,inlineContent:a,closeType:"icon",height:b});G.showSheet(F)},R=function(a){var b=a.type===d.WIDGET_TYPE.POPOVER&&E,c=a.type===d.WIDGET_TYPE.MODAL&&I;a=g.build(a);G?W(a.getBottom()):b?(b=a.getPopover(),x.hasClass("a-declarative")||(U=E.create(x,{name:"ssf-share-popover",position:l.popoverPosition,
inlineContent:b,activate:"onclick",closeButton:!1,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(b=a.getModal(),x.hasClass("a-declarative")||(V=I.create(x,{inlineContent:b,width:600}).show()))},aa=function(a){if(a.customize||a.caf)c.logCounter("webview.sharesheet.caf.background"),c.logCounterRefactor("webview.sharesheet.caf.background",a.shareDataAttributes.ingress),q.when("mash").execute(function(a){a.addEventListener("appPause",K)})},ba=function(a){q.when("SocialShareWidgetCustomize").execute(function(b){g.build(a).getCustomize(function(c){W(c,
650,"ssf-customize-bottom-sheet");b.init(a,R,K);aa(a)})})},K=function Z(){q.when("mash").execute(function(a){a.removeEventListener("appPause",Z)});U&&E.get(x).hide();F&&G.hideSheet(F);V&&I.get(x).hide()},ca=function(){var a=l.shareDataAttributes.asin,b=k.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;l.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},S=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(t);a.find("i").hide()},
O=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(t);a.find("i").show()},X=function(b){var e=b.shareData,d=b.copyElement,f=e.shareDataAttributes,p=e.t,g=e.treatment;g=g===n?"":g;var l=e.weblab;l=l===n?"":l;b={channel:"copy",refMarker:e.shareUrl.refMarker.getClickForChannel(b.channelRef),shareDataAttributes:f,treatment:g,weblab:l};c.logCSAEvent(y.CSA_HIT_TYPE.SHARE,b);c.logCounter("DPX.Desktop.CopySuccess");c.logCounter(m,"CopySuccess");c.logCounterRefactor("CopySuccess",f.ingress);
r.isDesktop()?function(){var a=d.find(".copy-label");a.text(p.taf_copy_url_changeover);h.delay(function(){K();a.text(p.taf_copy_name)},1E3)}():(a(".ssf-feedback").show(),K())},D=function(a){c.logCSAEvent(y.CSA_HIT_TYPE.CLICK_ERROR,a);c.logCounter("DPX.Desktop.CopyFailure");c.logCounter(m,"CopyFailure");c.logCounterRefactor("CopyFailure",l.shareDataAttributes.ingress)},P=function(a){var b=a.shareData,c=a.channelRef,d=b.shareUrl;a=b.socialLinks;a=a===n?{}:a;var f=b.isOGTEnabled;f=f===n?!1:f;c=c?d.getReturnForChannel(c):
d.return;d=b.aapiBaseUrl;var h=b.shareAapiCsrfToken,m=b.tinyUrlEnabled,g=b.deeplinkInfo;g=g===n?{}:g;var p=b.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:m===n?!1:m,aapiBaseUrl:d===n?"":d,shareAapiCsrfToken:h===n?"":h,marketplaceId:p===n?"":p,url:c,isOGTEnabled:f,originalUrl:a.shareframework||b.url||c,refMarkerId:e++,deeplinkInfo:g}};a(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(b){b.preventDefault();b.stopPropagation();c.logCounter("DPX.Desktop.ChannelClick");
c.logCounter(m,"ChannelClick");c.logCounterRefactor("ChannelClick",l.shareDataAttributes.ingress);var e=a(this),d=e.data("key"),f=l;b=f.refererURL;var g=f.shareDataAttributes,p=f.treatment;p=p===n?"":p;var F=f.weblab;F=F===n?"":F;var t=f.builtChannels[d],z=t.ref;d=f.shareUrl.refMarker.getClickForChannel(z);f=t.name;var v=t.getSharingUrl();c.logCSAEvent(y.CSA_HIT_TYPE.SHARE,{channel:f,refMarker:d,refererURL:b,shareDataAttributes:g,treatment:p,weblab:F});b=P({shareData:l,channelRef:z});S(e);M.fetch({data:b,
callback:function(a){O(e);a&&(v=t.getSharingUrl(a),c.logCounter("Desktop.Tiny.Success"),c.logCounterRefactor("Tiny.Success",g.ingress));if("em"===z)k.open(v,"_self");else if(r.isDesktop()){a=screen.width;var b=screen.height,d="pi"===z?900:600,f=Math.min(d,.7*a);d=Math.min(d,.7*b);k.open(v,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+f+",height\x3d"+d+",top\x3d"+(b/2-d/2)+",left\x3d"+(a/2-f/2))}else k.open(v,"_blank");K();h.trigger("ssf:event:share",l)}})});h.declarative("ssf-share-icon","click",
function(b){c.logCounter("DPX.Desktop.SheetClick");c.logCounter(m,"SheetClick");if(p)return K();Q(b.$currentTarget);l=h.extend(l,b.data);l.shareDataAttributes=h.extend(d.shareDataAttributes,b.data.shareDataAttributes);var e=l.shareDataAttributes.ingress;c.logCounterRefactor("SheetClick",e);if(!h.objectIsEmpty(b.data.associateLink)&&L.length)c.logCounter("ShareIngress.GetLink.T1"),c.logCounterRefactor("ShareIngress.GetLink.T1",e),h.trigger("ac-getlink-bottomsheet-event",l);else{h.extend(w[l.lang],
l.t);var f=u(l,l.channels);l.builtChannels=f;l.url=l.url.startsWith("/")?""+k.location.origin+l.url:l.url;l.shareUrl=new B(l.url,l.refId);ca()&&(l.shareUrl=new B(l.url,l.refId),l.shareUrl.url.searchParams.set("psc",1));r.isDesktop()?(l.image=l.image||a("#imgTagWrapperId img").attr("src"),R(l),c.logCounter("DPX.Desktop.SheetOpen"),c.logCounter(m,"SheetOpen"),c.logCounterRefactor("SheetOpen",e),c.logCSAEvent(y.CSA_HIT_TYPE.CLICK_SUCCESS,{channel:y.EMPTY_STRING,refMarker:l.shareUrl.refMarker.click,refererURL:l.refererURL,
shareDataAttributes:l.shareDataAttributes,treatment:l.treatment||"",weblab:l.weblab||""})):l.customize||l.caf?ba(l):(S(b.$currentTarget),f=P({shareData:l}),l=h.extend(l,{sheetShownCallback:function(){O(b.$currentTarget)}}),M.fetch({data:f,callback:function(a){l.tinyUrl=a;(new A(l)).launch(function(){R(l);c.logCounter("DPX.Desktop.SheetOpen");c.logCounter(m,"SheetOpen");c.logCounterRefactor("SheetOpen",e);O(b.$currentTarget)})}}));r.isSafari()&&r.isDesktop()&&(f=P({shareData:l,channelRef:y.CP_CHANNEL_REF}),
M.fetch({data:f,callback:function(a){c.logCounter("DPX.Desktop.TinyUrlOnSheetOpen");c.logCounter(m,"TinyUrlOnSheetOpen");c.logCounterRefactor("TinyUrlOnSheetOpen",e);C=a}}));h.trigger("ssf:event:sheetOpen",l)}});a(document).delegate(".ssf-copy,.ssf-channel.copy","click",function(b){c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(m,"ChannelClick");c.logCounterRefactor("ChannelClick",l.shareDataAttributes.ingress);b.preventDefault();var e=a(this),d=y.CP_CHANNEL_REF,f=l.shareUrl.getReturnForChannel(d);
r.isSafari()&&r.isDesktop()?navigator.clipboard.writeText(C||f).then(function(){X({shareData:l,copyElement:e,channelRef:d})},function(){D(csaOptions)}):(b=P({shareData:l,channelRef:y.CP_CHANNEL_REF}),S(e),M.fetch({data:b,callback:function(a){O(e);navigator.clipboard.writeText(a||f).then(function(){X({shareData:l,copyElement:e,channelRef:d})},function(){D(csaOptions)})}}));h.trigger("ssf:event:share",l)});a(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(b){b.preventDefault();var e=
l;b=e.shareDataAttributes;var d=e.treatment;d=d===n?"":d;var f=e.weblab;f=f===n?"":f;e={channel:"embed",refMarker:e.shareUrl.refMarker.getClickForChannel(y.EMBED_CHANNEL_REF),shareDataAttributes:b,treatment:d,weblab:f};c.logCSAEvent(y.CSA_HIT_TYPE.SHARE,e);c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(m,"ChannelClick");c.logCounterRefactor("ChannelClick",b.ingress);I.create(a(".ssf-channel.embed"),l.kpModalParams).show()});b=function(){x=a(".ssf-share-trigger");z=H(x);var b=z.width;if(!a(".ssf-background").length&&
z.background){var c=1.4*b;c=a('\x3cdiv class\x3d"ssf-background'+(z.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:c,height:c});x.wrap(c)}z.icon&&x.css({height:b,width:b,backgroundImage:"url("+J()+")"})};r.isIE()&&a(".ssf-share-trigger,.ssf-background").remove();h.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var b=a.position().left-l.popoverDistance;a.find(".a-arrow-border").css({right:24,left:""});a.css({left:b})});h.on("ssf:event:trigger-share-widget",
function(a){h.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<arguments.length&&arguments[1]!==n?arguments[1]:n)||N})});h.on("a:popover:show:ssf-share-popover",function(){return p=!0});h.on("a:popover:hide:ssf-share-popover",function(){return p=!1});h.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(b){b.sheet.$container.css("height","");q.when("a-switch").execute(function(b){l.caf&&b.getSwitch(a(".ssf-caf-toggle")).isOn(!!l.cafSwitch)})});b()})()}catch(v){c.logCounter("DPX.Desktop.Error"),
c.logCounter(m,"Error"),c.logLoad("Error"),c.logFatal("Error loading Share Framework AUI: "+v.toString())}finally{c.logCounter("DPX.Desktop.Render"),c.logCounter(m,"Render"),c.logLoad("Render"),h.trigger("ssf:event:load"),c.stopTimer(m)}return{init:b}});"use strict";var T=function(){return function(h,a){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h)){var g=[],d=!0,f=!1,c=n;try{for(var e=h[Symbol.iterator](),b;!(d=(b=e.next()).done)&&(g.push(b.value),!a||g.length!==a);d=!0);}catch(p){f=
!0,c=p}finally{try{if(!d&&e["return"])e["return"]()}finally{if(f)throw c;}}return g}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();q.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",function(h,a,g){g=g.SocialShareCore;var d=h.$,f=g.Detection.isClipboardAvailable,c=g.Detection.isDesktop,e=a.excludedChannels;f()||e.push("copy");var b=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};
return{build:function(h){var m=h.shareUrl,g=h.socialLinks,p=g===n?{}:g;g=h.shareDataAttributes;var r=h.builtChannels,k=h.kpModalParams,u=h.t;p.email=h.mailToUri;var A='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cdiv class\x3d"copy-label"\x3e'+u.taf_copy_tooltip+"\x3c/div\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";
!c()&&f()&&1>d(".ssf-feedback").length&&d(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+u.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");var B=function(a){return{title:u["taf_"+a.name+"_tooltip"]||a.label,label:u["taf_"+a.name+
"_name"]||a.label}};a.lineMarketplaces.includes(g.marketplaceId)||p.li?e.push("pi"):e.push("li");k||e.push("embed");a.cnMarketplace.includes(g.marketplaceId)&&e.push.apply(e,D(a.nonCNChannels));return{getModal:function(){var a="",c=!0,d=!1,h=n;try{for(var g=Object.entries(r)[Symbol.iterator](),k;!(c=(k=g.next()).done);c=!0){var t=T(k.value,2),v=t[0],w=t[1];if(!e.includes(v)&&"copy"!==v){var q=B(w),G=p[w.name]||w.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" href\x3d"'+
G+'" title\x3d"'+q.title+'" data-key\x3d"'+v+'"\x3e\n                '+b("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+q.label+'" style\x3d"background-image: url('+w.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+q.label+"\x3c/span\x3e\n            \x3c/div\x3e"}}}catch(E){d=!0,h=E}finally{try{!c&&g.return&&g.return()}finally{if(d)throw h;}}c=f()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+
m.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+A+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+u.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e'+a+"\x3c/div\x3e")+c},getPopover:function(){var a="",c=!0,d=!1,f=n;try{for(var h=Object.entries(r)[Symbol.iterator](),g;!(c=(g=h.next()).done);c=!0){var m=T(g.value,2),k=m[0],t=m[1];if(!e.includes(k)){var v=B(t),u=p[t.name]||t.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+
k+' a-color-base" href\x3d"'+u+'" title\x3d"'+v.title+'" data-key\x3d"'+k+'"\x3e\n                '+b("small")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+v.label+'" style\x3d"background-image: url('+t.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+k+'-label"\x3e'+v.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(E){d=!0,f=E}finally{try{!c&&h.return&&h.return()}finally{if(d)throw f;}}return""+a},getBottom:function(){var a="",c=!0,d=!1,f=
n;try{for(var h=Object.entries(r)[Symbol.iterator](),g;!(c=(g=h.next()).done);c=!0){var m=T(g.value,2),k=m[0],t=m[1];if(!e.includes(k)){var v=B(t),w=p[t.name]||t.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+k+' a-color-base" href\x3d"'+w+'" title\x3d"'+v.title+'" data-key\x3d"'+k+'"\x3e\n                '+b("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+v.label+'" style\x3d"background-image: url('+t.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+
v.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(E){d=!0,f=E}finally{try{!c&&h.return&&h.return()}finally{if(d)throw f;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+u.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e'+a+"\x3c/div\x3e"},getCustomize:function(){var a=void 0;q.now("SocialShareWidgetCustomizeTemplate").execute(function(b){a=h.customize?b.getCustomizeBox(u):""});var c='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+
u.taf_share_bottom_sheet_title+"\x3c/h3\x3e",e='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+c+"\x3c/div\x3e",d='\x3cdiv class\x3d"a-padding-base a-box ssf-cus-img ssf-no-border" style\x3d"background-image: url('+h.image+')"\x3e'+b("medium")+"\x3c/div\x3e",f=h.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(h.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+
u.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",g='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+h.shareLabel+"\n              "+b("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+c+d+f+a+g+"\x3c/div\x3e"+(h.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+e+d+f+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+g+"\x3c/div\x3e":"")}}}}});"use strict";q.when("jQuery","SocialShareWidget").register("SocialShareWidgetTiny",function(h,a){var g=a.SocialShareCore.Metrics;return{fetch:function(a){var d=a.data,c=a.callback;a=k.location.protocol+
"//";var e="application/json;charset\x3dUTF-8",b="/conversations/sharetinyurl",p={},m={},t=JSON.stringify(d);d.isOGTEnabled&&(e=new URL(d.url),e.searchParams.append("newOGT","1"),d.url=e.toString());(e=d.deeplinkInfo)&&e.isDisabled&&e.flag!=n&&(b=new URL(d.url),b.searchParams.append("nodl",e.flag),d.url=b.toString());if(d.tinyUrlEnabled)if(d.aapiBaseUrl&&d.shareAapiCsrfToken&&d.marketplaceId)b=""+a+d.aapiBaseUrl+"/api/marketplaces/"+d.marketplaceId+"/social-share/tinyurl",t={longUrl:d.url},0<d.refMarkerId&&
d.url.match(".+(?\x3d(\\/ref\x3d|ref_\x3d)([A-Za-z0-9_])+$).+")&&(t={longUrl:d.url+"_"+d.refMarkerId}),e="application/x-www-form-urlencoded",p={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',"x-api-csrf-token":d.shareAapiCsrfToken,"Content-Type":e},m={withCredentials:!0},g.startTimer("Tiny"),h.ajax(b,{type:"POST",headers:p,xhrFields:m,contentType:e,data:t,success:function(a){g.logCounter("Desktop.Tiny.Response");g.logCounterRefactor("Tiny.Response");
a.entity&&a.entity.shortUrl?c(a.entity.shortUrl.url):c(d.url);g.stopTimer("Tiny")},error:function(){g.logCounter("Desktop.Tiny.Error");g.logCounterRefactor("Tiny.Error");g.stopTimer("Tiny");c(d.url)}});else return g.logCounter("Tiny.Unavailable"),g.logCounterRefactor("Tiny.Unavailable"),c(d.url);else return c(d.url)}}});"use strict";q.when("A","SocialShareWidget","SocialShareWidgetAPI").register("SocialShareWidgetCustomize",function(h,a,g){a=a.SocialShareCore;var d=h.$,f=a.ShareSheet,c=a.Url,e=a.Metrics,
b=a.Constants,p=e.getMetricName(d,b.customize),m=h.constants.HIDE_CLASS,t=function(){},v=function(){},r={},w=0;try{(function(){var a={clear:function(){this.values={}},isEmpty:function(){return d.isEmptyObject(this.values)},values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},currentImage:"",productImageProperties:{width:0,height:0}},A=void 0,B=void 0,y=void 0,H=void 0;h.declarative("cafCheckboxAction","change",function(){H()});q.when("a-checkbox").execute(function(a){return y=
a});q.when("a-button").execute(function(a){return A=a});q.when("SocialShareWidgetTiny").execute(function(a){return B=a});h.on("a:sheet:afterHide:ssf-customize-bottom-sheet",function(b){b.sheet.getContentContainer().remove();a.clear();h.off("a:switch:caf:off");h.off("a:switch:caf:on")});h.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(){if(!r.caf){var a=Math.round(k.innerHeight*(700>k.innerHeight?.2:.25));d(".ssf-cus-img").css({height:a})}});v=function(a){var b=a.productImage;a=a.rating;
var c=b.match(/([\w\d_+-]*)\.?[^\\\/]*$/i),d=c[1],e=b.match(/\.[0-9a-z]+$/i)[0];return""+b.replace(c[0],"")+d+"._SR450,315_AC_SR450,180,0,C_SR450,250,0,T_PIStarRating"+a+",TopLeft,290,205"+e};var x=function(a){d(".ssf-cus-img").css("background-image",'url("'+a+'")')},l=function(b){var c=b.productImage;b.cafSwitch||(b=new Image,b.src=c,b.onload=function(){a.productImageProperties.width=this.width;a.productImageProperties.height=this.height})},z=function(a,b){var c=(r.cafSwitch=a)?"CAF.switchOn":"CAF.switchOff";
e.logCounter(p,c);e.logCounterRefactor(c,b);a?(d(".ssf-caf-image").fadeIn(100),d(".ssf-caf-regular-image").hide()):(d(".ssf-caf-regular-image").fadeIn(100),d(".ssf-caf-image").hide())},C=function(){d(".ssf-cus-img").find(".a-spinner").removeClass(m)},L=function(){d(".ssf-cus-img").find(".a-spinner").addClass(m)},D=function(a){var b=a.shareData,c=a.channelRef,d=b.shareUrl;a=b.socialLinks;a=a===n?{}:a;var e=b.isOGTEnabled;e=e===n?!1:e;c=c?d.getReturnForChannel(c):d.return;d=b.aapiBaseUrl;var f=b.shareAapiCsrfToken,
h=b.tinyUrlEnabled,g=b.deeplinkInfo;g=g===n?{}:g;var m=b.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:h===n?!1:h,aapiBaseUrl:d===n?"":d,shareAapiCsrfToken:f===n?"":f,marketplaceId:m===n?"":m,url:c,isOGTEnabled:e,originalUrl:a.shareframework||b.url||c,refMarkerId:w++,deeplinkInfo:g}},J=function(a,b,g,k,l,r,t){d(".ssf-customize-share-btn").find(".a-spinner").addClass(m);A(".ssf-customize-share-btn").enable();b();var v=!1;b=new URL(r===n?g.url:r);k&&(b.searchParams.append("cafId",k),b.searchParams.append("cafASIN",
l),l!==g.shareDataAttributes.asin&&e.logCounter(p,"CAF.ShareASINMismatch"),v=!0);g.cafStarAlignmentLeft&&b.searchParams.append("starsLeft","1");g.cafCustomShareOptionsEnabled&&b.searchParams.append("cafHiResImg","1");g.shareUrl=new c(b.toString(),g.refId);l=D({shareData:g});B.fetch({data:l,callback:function(b){g.tinyUrl=b;t&&t();b=h.extend({channelSelectCB:function(){k&&h.trigger("ssf:event:caf-share-complete-success",g)},cafSwitchEnabled:v},g);(new f(b)).launch(function(){h.delay(function(b){a(g)},
100);k?(e.logCounter(p,"CAF.ShareSheetOpen"),e.logCounterRefactor("CAF.ShareSheetOpen",g.shareDataAttributes.ingress)):(e.logCounter(p,"ShareSheetOpen"),e.logCounterRefactor("ShareSheetOpen",g.shareDataAttributes.ingress))})}})},Q=function(a,b){g.build(a).fetchCAFID(b)},G=function(a,b){g.build(a).fetchTabs(b)},E=function(a,b,c){g.build(a).generateImage(b,c)},I=function(b,c){if(a.isEmpty())return c({});var d=encodeURIComponent(a.currentImage);g.build(b).externalizeImage(d,c)};t=function(f,g,k){r={productImage:f.productImage||
f.image,rating:f.starRating,caf:f.caf,cafSwitch:f.cafSwitch,text:f.t.taf_custshare_caf_recipientemoji};var t=function(){var b=a.values,c=b.BackgroundImageTab,d=b.DeviceCoverImageTab;b=b.BookQuotesTab;var e=a.productImageProperties,g=e.width;e=e.height;return{productImageUrl:f.productImage,starRating:f.starRating||"",numberOfReviews:f.numberOfReviews||"",backgroundImagePhysicalId:(c===n?{}:c).physicalId||"",deviceCoverImagePhysicalId:(d===n?{}:d).physicalId||"",bookQuote:(b===n?{}:b).value||"",productImageWidth:g===
n?"":g,productImageHeight:e===n?"":e}},w=function(){var c=a.values,d=c.BackgroundImageTab;d=d===n?{}:d;var e=c.DeviceCoverImageTab;e=e===n?{}:e;c=c.BookQuotesTab;c=(c===n?{}:c).value||"";return{backgroundImagePhysicalId:d.physicalId||"",deviceCoverImagePhysicalId:e.physicalId||"",hasQuote:0<c?b.TRUE:b.FALSE,isCustomizedExperienceEnabled:f.customize?b.TRUE:b.FALSE,isCustomized:d.physicalId||e.physicalId||c?b.TRUE:b.FALSE}},u=f.shareDataAttributes.ingress;H=function(){var a=y(".ssf-caf-toggle");z(a.isChecked(),
u)};a.currentImage=v(r);x(v(r));l(r);z(r.cafSwitch,u);d(".ssf-customize-share-btn").click(function(){A(".ssf-customize-share-btn").isEnabled()&&(d(".ssf-customize-share-btn").find(".a-spinner").removeClass(m),A(".ssf-customize-share-btn").disable(),r.cafSwitch?(e.logCounter(p,"CAF.shareClick"),e.logCounterRefactor("CAF.shareClick",u),e.startTimer("CAF.fetchCAFAndTinyURL"),f.title=(f.t["taf-share-caf-messageprefix"]||"")+" "+f.title,Q(f,function(a,b,c){J(g,k,f,a,b,c,function(){e.stopTimer("CAF.fetchCAFAndTinyURL")})})):
function(){var a=w();e.logCounter(p,"shareClick");e.logCounterRefactor("shareClick",u);"true"===a.isCustomized&&(e.logCounter(p,"shareClickCustomized"),e.logCounterRefactor("shareClickCustomized",u));I(f,function(d){if((d=d.entity)&&d.physicalId){e.logCounter(p,"externalizeImageSuccess");e.logCounterRefactor("externalizeImageSuccess",u);var m=new URL(f.url);m.searchParams.append("cspi",d.physicalId);f.shareUrl=new c(m.toString(),f.refId,f.customize?"T3":n)}var l=f;d=l.shareDataAttributes;m=l.treatment;
m=m===n?"":m;l=l.weblab;l=l===n?"":l;f=h.extend({customizeShareCSAData:a},f);e.logCSAEvent(b.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:b.EMPTY_STRING,refMarker:f.shareUrl.refMarker.click,shareDataAttributes:d,treatment:m,weblab:l,customizeShareCSAData:a});J(g,k,f)})}())});d("#ssf-customize-share").click(function(){var a=this;A(this).isEnabled()&&(e.logCounter(p,"CustomizeButtonClick"),e.logCounterRefactor("CustomizeButtonClick",u),A(this).disable(),G(f,function(b){q.now("SocialShareWidgetCustomizeTemplate").execute(function(c){d(".ssf-tabs").html(c.getTabs(f,
b));A(a).enable();b.forEach(function(a){var b="input[type\x3dradio][name\x3d"+a.id+"]";d(b).change(function(a){a=JSON.parse(a.target.value);B(a);d(b).unbind("click");d(this).one("click",function(a){a=a.target;a.checked=!1;a=JSON.parse(a.value);F(a)})})})});d(".ssf-customize-container-one").addClass(m);d(".ssf-customize-container-two").removeClass(m).addClass("ssf-customize-transition")}))});var B=function(b){x();C();a.set(b);var c=t();e.logCounter(p,b.id+"Select");e.logCounterRefactor(b.id+"Select",
u);E(f,c,function(b){(b=b.entity)&&"SUCCEEDED"===b.status&&(b=b.customizedImage.url,a.currentImage=b,l({productImage:b}),x(b),L(),d(".ssf-cus-img").removeClass("a-box"))})},F=function(b){x();C();e.logCounter(p,b.id+"Unselect");e.logCounterRefactor(b.id+"Unselect",u);a.unset(b);a.isEmpty()?(b=v(r),a.currentImage=b,x(b),L(),d(".ssf-cus-img").addClass("a-box")):(b=t(),E(f,b,function(b){(b=b.entity)&&"SUCCEEDED"===b.status&&(b=b.customizedImage.url,a.currentImage=b,l({productImage:b}),x(b),L())}))};d(".ssf-back-btn").click(function(){e.logCounter(p,
"BackButtonClick");e.logCounterRefactor("BackButtonClick",u);d(".ssf-customize-container-two").addClass(m);d(".ssf-customize-container-one").removeClass(m).addClass("ssf-customize-transition-back");a.clear();x(v(r))});q.when("a-checkbox").execute(function(a){d(".ssf-caf-toggle-label").click(function(){var b=a(".ssf-caf-toggle");b.check(!b.isChecked())})})}})()}catch(u){e.logCounter(p,"Error"),e.logLoad("Error"),e.logFatal("Error loading Customize widget, Share Framework AUI: "+u.toString())}finally{e.logCounter(p,
"Render"),e.logLoad("Render")}return{init:t,getImage:v}});"use strict";q.when("A").register("SocialShareWidgetCustomizeTemplate",function(h){var a=function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+a.values.map(function(c,b){var d=h.extend(c,{id:a.id}),e={id:a.id,position:b,val:d,background:c.url};a.isQuote&&(e=h.extend(e,{center:!0,width:150,content:d.displayText,background:n}));d=e.id;b=e.position;c=e.content;c=c===n?"":c;var f=e.width,g=f===n?100:f,k=
e.background;f=e.center;f=f===n?!1:f;e=e.val;g='style\x3d"width: '+g+"px;background-image: url("+(k===n?"":k)+");background-size: "+g+"px "+g+'px;"';k=JSON.stringify(e);b=d+b;e=e.label||"";var w='\x3cspan class\x3d"aok-offscreen"\x3e'+e+"\x3c/span\x3e";f&&(w='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+c+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+e+"'\x3e\n              \x3cinput id\x3d\""+b+'" type\x3d"radio" name\x3d"'+d+"\" value\x3d'"+k+"' aria-label\x3d'"+
e+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+b+'" class\x3d"a-box a-text-normal" '+g+"\x3e"+w+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+"\x3c/ul\x3e"},g=function(a){var c=2<arguments.length&&arguments[2]!==n?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading '+(c?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(c?"true":"false")+'" '+(c?"":'tabindex\x3d"-1"')+"\x3e"+(1<arguments.length&&
arguments[1]!==n?arguments[1]:"")+"\x3c/a\x3e\n            \x3c/li\x3e"},d=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==n&&arguments[3]?"":"a-hidden")+'" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              \x3ch4 class\x3d"a-text-normal a-spacing-base"\x3e'+(2<arguments.length&&arguments[2]!==n?arguments[2]:"")+"\x3c/h4\x3e\n              "+(1<arguments.length&&arguments[1]!==n?arguments[1]:
"")+"\n            \x3c/div\x3e"},f=function(){return(0<arguments.length&&arguments[0]!==n?arguments[0]:[]).map(function(a){a=a.replace(/"||/g,"");return{displayText:""+a+"",value:a}})};return{getTabs:function(c,e){var b=c.popularHighlightStrings;if(!e.length)return"";var h="",m="",k=-1;e.forEach(function(c,e){c.isQuote&&(c.values=f(b));if(!c.values.length)return"";-1===k&&(k=e);e=e===k;h+=g(c.id,c.heading,e);m+=d(c.id,a(c),c.text,e)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+
('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+h+"\x3c/ul\x3e"+m)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+
"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn" aria-label\x3d"'+a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+
a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'}});"use strict";"use strict";q.when("A").register("SocialShareWidgetCAFTemplate",function(h){var a=h.capabilities.rtl,g=function(a){var b=1<arguments.length&&arguments[1]!==n?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'"/\x3e'},d=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+
(0<arguments.length&&arguments[0]!==n?arguments[0]:"")+"\x3c/span\x3e"},f=function(){return'\x3cp class\x3d"a-size-base a-spacing-micro ssf-caf-text"\x3e'+(0<arguments.length&&arguments[0]!==n?arguments[0]:"")+"\x3c/p\x3e"},c=function(a){return'\x3cdiv class\x3d"ssf-caf-p-image"\x3e'+g(a.productImage)+"\x3c/div\x3e"},e=function(b){var c=b.starRating,e=b.numberOfReviews;b=b.cafStarAlignmentLeft;c=g("RIO"+(c===n?"ZERO":c)+(a?"r":"")+".png","ssf-caf-stars");e=d(e);return'\x3cdiv class\x3d"ssf-caf-rating"\x3e\n              \x3cdiv class\x3d"'+
(b?"ssf-caf-rating-left":"ssf-caf-rating-right")+'"\x3e\n                '+c+e+"\n              \x3c/div\x3e\n            \x3c/div\x3e"};return{cafToggle:'\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  ',getCAFImageSection:function(b){var d=
b.starRating,h=b.numberOfReviews,k=b.cafStarAlignmentLeft,v=c({productImage:b.productImage});d=e({starRating:d,numberOfReviews:h,cafStarAlignmentLeft:k});v='\x3cdiv class\x3d"a-box" role\x3d"img"\x3e\n              '+('\x3cdiv class\x3d"a-padding-base ssf-caf-regular-image"\x3e\n              '+v+"\n              "+d+"\n            \x3c/div\x3e");d=b.starRating;k=d===n?"ZERO":d;h=b.t;var r=b.numberOfReviews,w=b.cafStarAlignmentLeft;d=c({productImage:b.productImage});k=e({starRating:k,numberOfReviews:r,
cafStarAlignmentLeft:w});r=a?"r":"";h=f(h.taf_custshare_caf_recipientemoji);r=g("caf-emojis"+r+".png","ssf-caf-emojis");return v+('\x3cdiv class\x3d"a-padding-base ssf-caf-image"\x3e\n              \x3cdiv class\x3d"a-row ssf-caf-image-stickers"\x3e'+d+('\x3cdiv class\x3d"a-column ssf-caf-stickers"\x3e'+h+r+"\x3c/div\x3e")+"\x3c/div\x3e\n              "+k+"\n            \x3c/div\x3e")+'\n              \x3cdiv class\x3d"a-color-secondary a-padding-base ssf-product-title-text"\x3e\n                \x3cspan\x3e\n                  '+
b.title+"\n                \x3c/span\x3e\n              \x3c/div\x3e\n            \x3c/div\x3e"},getToggleContainer:function(a){return'\x3cdiv class\x3d"a-row a-spacing-top-medium a-spacing-small"\x3e\n      \x3cdiv class\x3d"a-column"\x3e\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n      \x3cdiv class\x3d"a-column"\x3e\n        \x3csmall class\x3d"ssf-caf-toggle-label"\x3e'+
a.taf_custshare_caf_ingress+"\x3c/small\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e"}}});"use strict";q.when("jQuery","SocialShareWidget").register("SocialShareWidgetAPI",function(h,a){a=a.SocialShareCore;var g=a.Constants,d=a.Metrics,f=k.location.protocol+"//",c=d.getMetricName(h,g.customize),e=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT"}),b=Object.freeze({generateImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',
externalizeImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',fetchTabs:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',fetchCAFID:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"'}),p=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?
a.tabs.map(function(a){var b={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]};return{build:function(a){var k=a.shareAapiCsrfToken,m=a.locale,r=a.cafAapiCsrfToken,n=a.productType,u=a.shareDataAttributes,A=u.marketplaceId,B=u.asin,y=u.ingress,H=f+a.aapiBaseUrl,x=function(a){return H+"/custom/socialshareapicontracts/marketplaces/"+A+"/products/"+B+"/shareframework/"+a},l=function(a){h.ajax({url:a.url,type:a.type,
data:a.data,headers:{"Accept-Language":m,Accept:a.accept,"x-api-csrf-token":a.cafToken||k,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:a.success,error:a.error})};return{generateImage:function(a,f){var g=x("generatecustomizedimage");l({url:g,type:e.POST,data:a,accept:b.generateImage,success:function(a){d.logCounter(c,"generateCustomizeImageSuccess");d.logCounterRefactor("generateCustomizeImageSuccess",y);f(a)},error:function(a){d.logCounter(c,"generateCustomizeImageFail");
d.logCounterRefactor("generateCustomizeImageFail",y);f(a)}})},externalizeImage:function(a,f){a=x("externalizecustomizedimage?customizedImageUrl\x3d"+a);l({url:a,type:e.PUT,accept:b.externalizeImage,success:function(a){f(a)},error:function(){d.logCounter(c,"externalizeImageFail");d.logCounterRefactor("externalizeImageFail",y);f({})}})},fetchTabs:function(a){var f=x("productshareableattributes?locale\x3d"+m+"\x26type\x3d"+n);l({url:f,type:e.GET,accept:b.fetchTabs,success:function(b){d.logCounter(c,
"FetchTabsSuccess");d.logCounterRefactor("FetchTabsSuccess",y);a(p(b))},error:function(){d.logCounter(c,"FetchTabsFail");d.logCounterRefactor("FetchTabsFail",y);a([])}})},fetchCAFID:function(f){var h=H+"/custom/consultafriendcontracts/marketplaces/"+A+"/consultafriend/feedback-request/"+B;d.logCounter(c,"CAF.createCAFID.called");d.logCounterRefactor("CAF.createCAFID.called",y);l({url:h,type:e.POST,accept:b.fetchCAFID,cafToken:r,success:function(b){f(b.entity&&b.entity.cafId,B,a.url)},error:function(a){d.logCounter(c,
"CAF.createCAFID.failed");d.logCounterRefactor("CAF.createCAFID.failed",y);q.log("Error Creating CAF Id. Error Code: "+a.status+". Error Response: "+a.responseText,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION);f()}})}}}}});"use strict";q.when("A").register("SocialShareWidgetCustomShareOptionsTemplate",function(h){var a=h.capabilities.rtl,g=void 0;q.when("mash").execute(function(a){return g=a});var d=function(a,c){if(!g)return c([]);var b=a.length,d=[];a.forEach(function(a){f(a,function(a,e){b--;e&&(d[a.label.toLowerCase()]=
a);(3<=d.length||0>=b)&&c(d)})})},f=function(a,c){g.canLaunchIntentURL({url:a.schemeURI,successCallback:function(b){c(a,b)},failCallback:function(){c(a,!1)}})},c=function(a){var b=1<arguments.length&&arguments[1]!==n?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'" /\x3e'},e=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==n?arguments[0]:"")+"\x3c/span\x3e"};
return{getChannelsHtml:function(a,c){var b="";d(a.customShareOptions,function(d){d=h.extend(d,a.defaultCustomShareOptions);a.customShareBuiltChannels=d;for(var e in d)if("More"!=d[e].label||g){var f=b;var k=a;var m=d[e],p=m.stringId,t=m.className,q=m.label;m="https://m.media-amazon.com/images/G/01/share-icons/"+m.image;k='\x3cli class\x3d"ssf-custom-share-option '+(t===n?"":t)+'"  data-name\x3d"'+q.toLowerCase()+'"\x3e\n                    \x3cimg src\x3d"'+m+'" title\x3d"'+q+'" /\x3e\n                    \x3cspan class\x3d"label a-size-base"\x3e'+
(k.t[p]||q)+"\x3c/span\x3e\n                 \x3c/li\x3e";b=f+k}c('\x3cul class\x3d"ssf-custom-share-options-container a-unordered-list a-nostyle"\x3e'+b+"\x3c/ul\x3e")})},getPreviewImage:function(b){var d=b.starRating,f=b.numberOfReviews,g=a?"r":"";b='\x3cdiv class\x3d"ssf-cso-p-image ssf-regular"\x3e'+c(b.productImage,"ssf-regular")+"\x3c/div\x3e";d=d?c("RIO"+d+g+".png","ssf-caf-stars"):"";f=e(f);return'\x3cdiv class\x3d"ssf-cso-p-image"\x3e'+b+('\x3cdiv class\x3d"ssf-cso-stickers ssf-regular"\x3e'+
d+f+"\x3c/div\x3e")+"\x3c/div\x3e"}}});"use strict";q.when("A","SocialShareWidget").register("SocialShareWidgetCustomShareOptions",function(h,a){a=a.SocialShareCore;var g=void 0,d=void 0,f=h.$,c=a.ShareSheet,e=a.Metrics,b=a.Constants;e.getMetricName(f,b.customShareOptions);var p=a.Url,m=void 0;q.when("mash").execute(function(a){return d=a});q.when("SocialShareWidgetTiny").execute(function(a){return g=a});var t=function(a,b,c){var d=b.shareUrl;"Email"==b.label&&(d=d.replace("{subject}",a.emailSubject).replace("{body}",
a.title+" "+c));return d=d.replace("{text}",a.title).replace("{url}",c)},v=function(a,b){g.fetch({data:a,callback:function(a){b(a)}})};return{init:function(a,w,u,A,B,y){var r=a.shareDataAttributes;w=a.incrementShareCount;var x=w===n?null:w;w=a.treatment;var l=w===n?"":w;w=a.weblab;var z=w===n?"":w;w=a.refererURL;var C=w===n?"":w,D=a.ingress,N=new URL(a.url),J=new p(N.toString(),a.refId);w=A({shareData:a,channelRef:b.CP_CHANNEL_REF});v(w,function(a){m=a});f(".custom-share-native-sheet").unbind("click").click(function(b){u();
b=A({shareData:a});var d=h.extend({channelSelectCB:function(){cafId&&h.trigger("ssf:event:caf-share-complete-success",a)}},a);g.fetch({data:b,callback:function(b){a.tinyUrl=b;(new c(d)).launch(function(){e.logCounterRefactor("customShareOptions.SheetOpen",D)})}})});f(".custom-share-copy").unbind("click").click(function(c){var d=b.CP_CHANNEL_REF;navigator.clipboard.writeText(m).then(function(){B({shareData:a,channelRef:d})},function(){y({shareData:a,channelRef:d})})});f(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("click").click(function(c){var h=
f(this);c=a.customShareBuiltChannels;h=h.data("name");var m=c[h],n=J.refMarker.getClickForChannel(m.ref);c=A({shareData:a,channelRef:m.ref});g.fetch({data:c,callback:function(c){c=t(a,m,c);d?d.launchIntentURL({url:c,successCallback:function(){u();e.logCounterRefactor("ChannelClick",r.ingress);"function"===typeof x&&x(n);e.logCSAEvent(b.CSA_HIT_TYPE.SHARE,{channel:m,refMarker:n,refererURL:C,shareDataAttributes:r,treatment:l,weblab:z})},failCallback:function(){u();e.logCSAEvent(b.CSA_HIT_TYPE.CLICK_ERROR,
{channel:m,refMarker:n,refererURL:C,shareDataAttributes:r,treatment:l,weblab:z});q.log("Failed to launch intent URL "+N,b.SSF_AUI_PACKAGE_ATTRIBUTION);e.logCounterRefactor("customShareOptions.LaunchShareIntentFail",a.shareDataAttributes.ingress)}}):(e.logCSAEvent(b.CSA_HIT_TYPE.SHARE,{channel:m,refMarker:n,refererURL:C,shareDataAttributes:r,treatment:l,weblab:z}),u(),k.open(c,"_blank"))}})})}}})});
/* ******** */
